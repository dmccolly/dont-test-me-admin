<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>DON'T TEST ME</title>
  <link rel="stylesheet" href="css/styles.css"/>
</head>
<body>
  <div class="container">
    <button class="admin-btn" id="openAdmin" title="Open Admin">‚öô</button>

    <div class="header">
      <h1 class="title">DON'T TEST ME</h1>
      <p class="subtitle">
        Here's one to test your hearing AND recall. Huh?
        <span class="highlight">I SAID. TO TEST YOUR HEARING AND RECALL!!</span>
      </p>
      <div class="message-ticker">
        <div class="rotating-message" id="rotatingMessage">
          Welcome to the audio memory challenge!
        </div>
      </div>
    </div>

    <div class="tabs">
      <button class="tab active" data-game="0">Tones</button>
      <button class="tab" id="tab1" data-game="1">Custom Set 1</button>
      <button class="tab" id="tab2" data-game="2">Custom Set 2</button>
    </div>

    <div class="panel" id="gamePanel">
      <div class="stats">
        <div class="stat">
          <div class="stat-label">Matches</div>
          <div class="stat-value"><span id="matches">0</span>/18</div>
        </div>
        <div class="stat">
          <div class="stat-label">Attempts</div>
          <div class="stat-value" id="attempts">0</div>
        </div>
        <div class="stat">
          <div class="stat-label">Accuracy</div>
          <div class="stat-value" id="accuracy">100%</div>
        </div>
      </div>

      <div class="grid" id="grid"></div>

      <div class="controls">
        <button class="ctrl-btn" id="newGame">New Game</button>
        <div class="timer-display">
          <div class="current-stats" id="currentStats">Time: 0:00 | Attempts: 0</div>
          <div class="best-stats" id="bestStats">Best Time: -- | Best Attempts: --</div>
        </div>
        <button class="ctrl-btn" id="muteBtn">üîä Audio On</button>
        <button class="ctrl-btn" id="scrambleBtn">Scramble</button>
      </div>
    </div>
  </div>

  <!-- Win Modal -->
  <div class="win" id="win">
    <div class="win-content">
      <div class="win-title">Perfect Match!</div>
      <div class="win-stats" id="winStats">Completed in 0:00 with 0 attempts (100% accuracy)</div>
      <div class="win-actions">
        <button class="ctrl-btn" id="playAgain">Play Again</button>
        <button class="ctrl-btn" id="scrambleInWin">Scramble</button>
        <button class="ctrl-btn" id="otherGames">Other Games</button>
      </div>
    </div>
  </div>

  <!-- Admin Modal -->
  <div class="admin-backdrop" id="adminBackdrop" aria-hidden="true">
    <div class="admin-panel" role="dialog" aria-modal="true" aria-labelledby="adminTitle">
      <h2 class="admin-title" id="adminTitle">Game Management</h2>

      <!-- Funny Messages -->
      <div class="slot">
        <div class="slot-header">
          <div style="font-weight:700">Funny Messages</div>
          <div class="slot-status" id="messageStatus">No messages loaded</div>
        </div>
        <div class="upload" id="messageDrop" tabindex="0">
          <div class="upload-text">üìÑ Upload message file (one phrase per line, 150 chars max)</div>
          <div class="upload-hint">Plain .txt recommended</div>
          <input class="hidden-file" type="file" id="messageFile" accept=".txt"/>
        </div>
        <div class="admin-actions">
          <button class="ctrl-btn" id="previewMessages">üëÄ Preview</button>
          <button class="ctrl-btn" id="clearMessages">üóëÔ∏è Clear</button>
        </div>
      </div>

      <!-- Built-in Tones -->
      <div class="slot">
        <div class="slot-header">
          <div style="font-weight:700">Game 1: Tones</div>
          <div class="slot-status">Built-in (18 frequencies)</div>
        </div>
        <div style="color:#9a9a9a">This game is permanent and cannot be modified.</div>
      </div>

      <!-- Custom Set 1 -->
      <div class="slot">
        <div class="slot-header">
          <input type="text" class="slot-name" id="name1" value="Custom Set 1" placeholder="Enter game name"/>
          <div class="slot-status" id="status1">Empty (0/18)</div>
        </div>
        <div class="upload" id="drop1" tabindex="0">
          <div class="upload-text">üìÅ Drop 18 audio files here or click to browse</div>
          <div class="upload-hint">MP3, WAV, OGG, M4A, FLAC</div>
          <input class="hidden-file" type="file" id="files1" multiple accept="audio/*"/>
        </div>
        <div class="admin-actions">
          <button class="ctrl-btn" id="clear1">Clear All</button>
          <button class="ctrl-btn" id="test1">Test Game</button>
        </div>
      </div>

      <!-- Custom Set 2 -->
      <div class="slot">
        <div class="slot-header">
          <input type="text" class="slot-name" id="name2" value="Custom Set 2" placeholder="Enter game name"/>
          <div class="slot-status" id="status2">Empty (0/18)</div>
        </div>
        <div class="upload" id="drop2" tabindex="0">
          <div class="upload-text">üìÅ Drop 18 audio files here or click to browse</div>
          <div class="upload-hint">MP3, WAV, OGG, M4A, FLAC</div>
          <input class="hidden-file" type="file" id="files2" multiple accept="audio/*"/>
        </div>
        <div class="admin-actions">
          <button class="ctrl-btn" id="clear2">Clear All</button>
          <button class="ctrl-btn" id="test2">Test Game</button>
        </div>
      </div>

      <div class="admin-actions">
        <button class="ctrl-btn" id="closeAdmin">Close</button>
      </div>
    </div>
  </div>

  <script type="module" src="js/app.js"></script>
</body>
</html>
